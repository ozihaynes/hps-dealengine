import { computeDoubleClose } from "@hps-internal/engine";
import { NextResponse } from 'next/server';
import { computeDoubleClose } from '@hps-internal/engine';

export async function GET() {
  return NextResponse.json({ ok: true, route: "double-close" });
});
}

export async function POST(req: Request) {
  const body = await req.json().catch(() => ({}));
  const out = computeDoubleClose(body);
  return NextResponse.json({ ok: true, out });
});
    return NextResponse.json({ ok: true, data });
  } catch (err: any) {
    return NextResponse.json({ ok: false, error: String(err?.message ?? err) }, { status: 400 });
  }
}


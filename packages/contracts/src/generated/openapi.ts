/**
 * This file was auto-generated by openapi-typescript.
 * Do not make direct changes to the file.
 */

export interface paths {
  '/analyze': {
    parameters: {
      query?: never;
      header?: never;
      path?: never;
      cookie?: never;
    };
    get?: never;
    put?: never;
    /** Run deterministic underwriting analysis */
    post: operations['analyze_v1'];
    delete?: never;
    options?: never;
    head?: never;
    patch?: never;
    trace?: never;
  };
  '/policy': {
    parameters: {
      query?: never;
      header?: never;
      path?: never;
      cookie?: never;
    };
    /** Get active policy for the caller's org and posture */
    get: operations['policy_get_v1'];
    /** Upsert policy & create a new version row */
    put: operations['policy_put_v1'];
    post?: never;
    delete?: never;
    options?: never;
    head?: never;
    patch?: never;
    trace?: never;
  };
}
export type webhooks = Record<string, never>;
export interface components {
  schemas: {
    /** @example <AIV_CAP_PCT> */
    TokenString: string;
    /** @enum {string} */
    PolicyPosture: 'conservative' | 'base' | 'aggressive';
    PolicyTokens: {
      AIV_CAP_PCT?: components['schemas']['TokenString'];
      AIV_SOFT_MAX_AGE_DAYS?: components['schemas']['TokenString'];
      DOM_TO_MONTHS_RULE?: components['schemas']['TokenString'];
      CARRY_MONTHS_CAP?: components['schemas']['TokenString'];
      LIST_COMM_PCT?: components['schemas']['TokenString'];
      CONCESSIONS_PCT?: components['schemas']['TokenString'];
      SELL_CLOSE_PCT?: components['schemas']['TokenString'];
    } & {
      [key: string]: components['schemas']['TokenString'];
    };
    Policy: {
      posture: components['schemas']['PolicyPosture'];
      tokens: components['schemas']['PolicyTokens'];
      metadata?: {
        [key: string]: unknown;
      };
    };
    DealContract: {
      org_id: string;
      deal_id: string;
      address: {
        line1: string;
        city: string;
        state: string;
        postal_code: string;
      };
      inputs: {
        [key: string]: unknown;
      };
    };
    TraceItem: {
      id: string;
      stage?: string;
      message: string;
      refs?: string[];
      tokens?: components['schemas']['TokenString'][];
    };
    RunOutput: {
      deal_id: string;
      policy_version_id?: string;
      outputs: {
        [key: string]: unknown;
      };
      infoNeeded: string[];
      trace: components['schemas']['TraceItem'][];
      hashes: {
        inputs: string;
        policy: string;
        outputs: string;
      };
    };
    ApiError: {
      /** @default false */
      ok: boolean;
      error: {
        code: string;
        message: string;
      };
      infoNeeded?: string[];
    };
  };
  responses: never;
  parameters: never;
  requestBodies: never;
  headers: never;
  pathItems: never;
}
export type $defs = Record<string, never>;
export interface operations {
  analyze_v1: {
    parameters: {
      query?: never;
      header?: never;
      path?: never;
      cookie?: never;
    };
    requestBody: {
      content: {
        'application/json': {
          deal: components['schemas']['DealContract'];
          policy_version_id?: string | null;
        };
      };
    };
    responses: {
      /** @description Deterministic output with trace and hashes */
      200: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['RunOutput'];
        };
      };
      /** @description Validation error */
      400: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ApiError'];
        };
      };
      /** @description Unauthenticated */
      401: {
        headers: {
          [name: string]: unknown;
        };
        content?: never;
      };
      /** @description Forbidden (RLS/Org) */
      403: {
        headers: {
          [name: string]: unknown;
        };
        content?: never;
      };
    };
  };
  policy_get_v1: {
    parameters: {
      query: {
        posture: components['schemas']['PolicyPosture'];
      };
      header?: never;
      path?: never;
      cookie?: never;
    };
    requestBody?: never;
    responses: {
      /** @description Active policy */
      200: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['Policy'];
        };
      };
      /** @description Unauthenticated */
      401: {
        headers: {
          [name: string]: unknown;
        };
        content?: never;
      };
      /** @description Forbidden (RLS/Org) */
      403: {
        headers: {
          [name: string]: unknown;
        };
        content?: never;
      };
      /** @description No active policy found */
      404: {
        headers: {
          [name: string]: unknown;
        };
        content?: never;
      };
    };
  };
  policy_put_v1: {
    parameters: {
      query?: never;
      header?: never;
      path?: never;
      cookie?: never;
    };
    requestBody: {
      content: {
        'application/json': components['schemas']['Policy'];
      };
    };
    responses: {
      /** @description Saved with version id */
      200: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': {
            policy_version_id?: string;
          };
        };
      };
      /** @description Validation error */
      400: {
        headers: {
          [name: string]: unknown;
        };
        content: {
          'application/json': components['schemas']['ApiError'];
        };
      };
      /** @description Unauthenticated */
      401: {
        headers: {
          [name: string]: unknown;
        };
        content?: never;
      };
      /** @description Forbidden (RLS/Org) */
      403: {
        headers: {
          [name: string]: unknown;
        };
        content?: never;
      };
    };
  };
}
